<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
$(function() {
    re = RegExp(/(https:\/\/www\.amazon\.co\.jp\/)(?:.*?\/){0,1}(?:dp|gp\/product)\/([0-9A-Z]{10})/, '');
    $("button#clear").on("click", function() {
        $("textarea").val('');
        $("#result").empty();
    });
    $("button#submit").on("click", function() {
        $("#result").empty();
        if(lines = $("textarea").val().match(/[^\r\n]+/g)){
            lines.forEach(line => {
                if(m = line.match(re)){
                    url = m[1] + 'dp/' + m[2] + '/';
                    $("#result").append(
                        $('<li/>').html( $("<a/>", { href: url, text: url }) )
                    );
                }
            });
        }
    });
});
</script>
<style>
#text
{
    width: 100%;
    height: 100pt;
}
</style>
</head>
<body>
<textarea id="text">
</textarea>
<p><button id="submit">Convert</button>
<button id="clear">Clear</button>
<ul id="result"></ul>
</body>
</html>
